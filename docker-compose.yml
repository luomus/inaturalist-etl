# Build the image:
# docker-compose build
#
# Test OpenShift behavior (runs and exits):
# docker-compose run --rm inat_etl
#
# Local development - run inat.py with custom parameters:
# docker-compose run --rm inat_etl staging manual true 10
#
# Local development - run single.py:
# docker-compose run --rm inat_etl single.py 194920696 dry

version: '3'

services:
  inat_etl:
    build:
      context: .
      dockerfile: Dockerfile
    image: my_inat_python
    # Remove container after it exits (for job-style execution)
    container_name: inat_etl
    env_file:
      - .env